(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[172],{8130:function(e,t,r){Promise.resolve().then(r.bind(r,606))},606:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(7437),n=r(2265),l=r(5588),s=r(7648),i=r(9376),o=r(619),d=r(171),c=r(8434);function u(e){let{params:t}=e,r=(0,i.useRouter)(),{id:u}=t,[g,m]=(0,n.useState)(!0),[x,b]=(0,n.useState)(null),[h,y]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{try{let e=(0,c.zv)(u);e?b(e):y("Blog not found")}catch(e){console.error(e),y("Failed to load blog")}finally{m(!1)}})()},[u]);let f=async e=>{try{let t={...e,updatedAt:new Date().toISOString()};if((0,c.zZ)(u,t))r.push("/dashboard");else throw Error("Failed to update blog")}catch(e){throw console.error(e),e}};return g?(0,a.jsx)("div",{className:"min-h-screen bg-light flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading blog..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-dark to-dark-light text-white",children:[(0,a.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 shadow-lg",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-500 to-purple-600 text-transparent bg-clip-text",children:"AI Blog Generator"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(s.default,{href:"/dashboard",className:"text-gray-300 hover:text-indigo-400 transition-colors",children:"Dashboard"}),(0,a.jsx)(l.l8,{afterSignOutUrl:"/"})]})]})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 animate-fade-in",children:[(0,a.jsx)("div",{className:"mb-8 animate-slide-left",style:{animationDelay:"0.1s"},children:(0,a.jsxs)(s.default,{href:"/dashboard",className:"text-indigo-400 hover:text-indigo-300 hover:underline flex items-center transition-colors",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Dashboard"]})}),(0,a.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-400 to-purple-500 text-transparent bg-clip-text mb-6 animate-slide-up",style:{animationDelay:"0.2s"},children:"Edit Blog"}),h&&(0,a.jsx)("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-md mb-4",children:h}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 animate-fade-in",style:{animationDelay:"0.3s"},children:[(0,a.jsxs)("div",{className:"animate-slide-left",style:{animationDelay:"0.4s"},children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Edit Blog"}),(0,a.jsx)(d.Z,{blog:x,onSave:f,isLoading:g})]}),(0,a.jsxs)("div",{className:"animate-slide-right",style:{animationDelay:"0.5s"},children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Preview"}),x&&(0,a.jsx)(o.Z,{blog:x,showSaveButton:!1})]})]})]})]})}},171:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(7437),n=r(2265),l=r(6202);function s(e){let{value:t,onChange:r,placeholder:s}=e,[i,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{o(!0)},[]),!i)return(0,a.jsx)("div",{className:"h-64 bg-gray-700 animate-pulse rounded-md"});let u=e=>{let a=document.querySelector(".rich-text-editor textarea");if(!a)return;let n=a.selectionStart,l=a.selectionEnd,s=t.substring(n,l);if(s){let a=t.substring(0,n),i=t.substring(l);r(a+("**"===e?"**".concat(s,"**"):"*"===e?"*".concat(s,"*"):"[](url)"===e?"[".concat(s,"](https://example.com)"):e.replace("Text",s))+i)}else r(t.substring(0,n)+e+t.substring(l)),setTimeout(()=>{a.focus(),a.setSelectionRange(n+e.length,n+e.length)},0)};return(0,a.jsxs)("div",{className:"rich-text-editor",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-2 p-2 bg-gray-800 rounded-t-md border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{u("\n## Heading\n")},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm",title:"Add Heading",disabled:d,children:"Heading"}),(0,a.jsx)("button",{type:"button",onClick:()=>{u("**")},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm font-bold",title:"Bold",disabled:d,children:"B"}),(0,a.jsx)("button",{type:"button",onClick:()=>{u("*")},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm italic",title:"Italic",disabled:d,children:"I"}),(0,a.jsx)("button",{type:"button",onClick:()=>{u("\n- List item 1\n- List item 2\n- List item 3\n")},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm",title:"Bullet List",disabled:d,children:"List"}),(0,a.jsx)("button",{type:"button",onClick:()=>{u("[](url)")},className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm",title:"Add Link",disabled:d,children:"Link"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>c(!d),className:"px-2 py-1 ".concat(d?"bg-indigo-600":"bg-gray-700 hover:bg-gray-600"," rounded text-white text-sm"),title:d?"Edit":"Preview",children:d?"Edit":"Preview"})]}),d?(0,a.jsx)("div",{className:"textarea min-h-[300px] rounded-t-none overflow-auto blog-content p-4",children:(0,a.jsx)(l.UG,{children:t})}):(0,a.jsx)("textarea",{className:"textarea min-h-[300px] rounded-t-none",value:t,onChange:e=>r(e.target.value),placeholder:s}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-400",children:(0,a.jsxs)("p",{children:["Formatting: ",(0,a.jsx)("span",{className:"font-bold",children:"**Bold**"}),", ",(0,a.jsx)("span",{className:"italic",children:"*Italic*"}),", ## Heading, - List item, [Link](url)"]})})]})}function i(e){let{blog:t,onSave:r,isLoading:l=!1}=e,[i,o]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),[u,g]=(0,n.useState)(!1),[m,x]=(0,n.useState)("");(0,n.useEffect)(()=>{t&&(o(t.title||""),c(t.content||""))},[t]);let b=async()=>{if(!i.trim()){x("Title is required");return}if(!d.trim()){x("Content is required");return}g(!0),x("");try{await r({title:i,content:d})}catch(e){console.error(e),x("Failed to save blog. Please try again.")}finally{g(!1)}};return l?(0,a.jsxs)("div",{className:"card animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-700 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-64 bg-gray-700 rounded mb-4"}),(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded"})]}):(0,a.jsxs)("div",{className:"card animate-fade-in",children:[m&&(0,a.jsx)("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-md mb-4",children:m}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-gray-300 mb-2",children:"Blog Title"}),(0,a.jsx)("input",{type:"text",id:"title",className:"input",placeholder:"Enter blog title",value:i,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"content",className:"block text-gray-300 mb-2",children:"Blog Content"}),(0,a.jsx)(s,{value:d,onChange:c,placeholder:"Enter blog content"})]}),(0,a.jsx)("button",{className:"btn-primary w-full animate-slide-up",onClick:b,disabled:u,children:u?"Saving...":"Save Blog"})]})}},619:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(7437),n=r(2265),l=r(6202);function s(e){let{blog:t,onSave:r,showSaveButton:s=!1}=e,{title:i,content:o}=t||{title:"",content:""},[d,c]=(0,n.useState)(!1),u=async()=>{if(r){c(!0);try{await r()}catch(e){console.error("Error saving blog:",e)}finally{c(!1)}}};return t?(0,a.jsxs)("div",{className:"card animate-fade-in",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 animate-slide-up",style:{animationDelay:"0.1s"},children:i}),(0,a.jsx)("div",{className:"max-w-none animate-slide-up text-white blog-content",style:{animationDelay:"0.2s"},children:(0,a.jsx)(l.UG,{children:o})})]}),s&&(0,a.jsx)("button",{className:"btn-primary w-full animate-slide-up",onClick:u,disabled:d,children:d?"Saving...":"Save Blog"})]}):(0,a.jsx)("div",{className:"card text-center p-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No blog to preview"})})}},8434:function(e,t,r){"use strict";r.d(t,{$Z:function(){return l},X4:function(){return i},_Z:function(){return a},zZ:function(){return s},zv:function(){return n}});let a=()=>{try{let e=localStorage.getItem("blogs");return e?JSON.parse(e):[]}catch(e){return console.error("Error getting blogs:",e),[]}},n=e=>{try{return a().find(t=>t.id===e)||null}catch(e){return console.error("Error getting blog by ID:",e),null}},l=e=>{try{let t=a(),r={...e,id:e.id||crypto.randomUUID(),createdAt:e.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()},n=[...t,r];return localStorage.setItem("blogs",JSON.stringify(n)),r}catch(e){return console.error("Error saving blog:",e),null}},s=(e,t)=>{try{let r=a(),n=r.findIndex(t=>t.id===e);if(-1===n)return null;let l=[...r];return l[n]={...r[n],...t,updatedAt:new Date().toISOString()},localStorage.setItem("blogs",JSON.stringify(l)),l[n]}catch(e){return console.error("Error updating blog:",e),null}},i=e=>{try{let t=a().filter(t=>t.id!==e);return localStorage.setItem("blogs",JSON.stringify(t)),!0}catch(e){return console.error("Error deleting blog:",e),!1}}}},function(e){e.O(0,[588,972,965,971,117,744],function(){return e(e.s=8130)}),_N_E=e.O()}]);