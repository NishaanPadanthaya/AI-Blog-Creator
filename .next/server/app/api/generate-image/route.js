"use strict";(()=>{var e={};e.id=495,e.ids=[495],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},5816:e=>{e.exports=require("process")},6162:e=>{e.exports=require("worker_threads")},2254:e=>{e.exports=require("node:buffer")},6005:e=>{e.exports=require("node:crypto")},7561:e=>{e.exports=require("node:fs")},8849:e=>{e.exports=require("node:http")},2286:e=>{e.exports=require("node:https")},7503:e=>{e.exports=require("node:net")},9411:e=>{e.exports=require("node:path")},7742:e=>{e.exports=require("node:process")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},1041:e=>{e.exports=require("node:url")},7261:e=>{e.exports=require("node:util")},5628:e=>{e.exports=require("node:zlib")},60:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>q,requestAsyncStorage:()=>x,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c});var o={};t.r(o),t.d(o,{POST:()=>d});var s=t(9303),n=t(8716),a=t(670),i=t(1258),p=t(6471),u=t(7070);async function d(e){try{let{userId:r}=(0,p.I8)();if(!r)return u.NextResponse.json({error:"Unauthorized"},{status:401});let{prompt:t}=await e.json();if(!t)return u.NextResponse.json({error:"Prompt is required"},{status:400});let o=new i.$D(process.env.GOOGLE_GEMINI_API_KEY).getGenerativeModel({model:"gemini-1.5-flash"}),s=`
      Generate a high-quality, professional image for a blog post about: "${t}".
      The image should be visually appealing and relevant to the topic.
      Please provide a detailed description of what the image should look like.
    `,n=await o.generateContent(s),a=(await n.response).text(),d=`https://source.unsplash.com/random/800x600/?${encodeURIComponent(t)}`;return u.NextResponse.json({imageUrl:d,imageDescription:a})}catch(e){return console.error("Error generating image:",e),u.NextResponse.json({error:"Failed to generate image"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/generate-image/route",pathname:"/api/generate-image",filename:"route",bundlePath:"app/api/generate-image/route"},resolvedPagePath:"E:\\GEN AI\\AIBlogDev\\app\\api\\generate-image\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:x,staticGenerationAsyncStorage:c,serverHooks:g}=l,m="/api/generate-image/route";function q(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[312,586],()=>t(60));module.exports=o})();